import{_ as i,c as e,a3 as t,o as a}from"./chunks/framework.ohJJpums.js";const n="/tools/ci/ci-diagram.png",l="/tools/ci/ci-folders.png",o="/tools/ci/ci-swiftlint.png",E=JSON.parse('{"title":"CI (Continuous Integration) with GitHub Actions","description":"","frontmatter":{},"headers":[],"relativePath":"articles/tools/ci.md","filePath":"articles/tools/ci.md"}'),h={name:"articles/tools/ci.md"};function r(p,s,c,d,k,u){return a(),e("div",null,s[0]||(s[0]=[t('<h1 id="ci-continuous-integration-with-github-actions" tabindex="-1">CI (Continuous Integration) with GitHub Actions <a class="header-anchor" href="#ci-continuous-integration-with-github-actions" aria-label="Permalink to &quot;CI (Continuous Integration) with GitHub Actions&quot;">​</a></h1><p><em>Last Updated: Dec 7, 2024</em></p><p>The Continuous Integration is an automated process that verifies and validates the source code automatically with each modification in the repository (push or pull request). It enables quick error detection before the code is merged into the branch.</p><div style="display:flex;justify-content:center;"><img src="'+n+'" alt="Diagram representing the process of a CI" class="small-image"></div><h2 id="github-actions" tabindex="-1">GitHub Actions <a class="header-anchor" href="#github-actions" aria-label="Permalink to &quot;GitHub Actions&quot;">​</a></h2><p>Will we be using <code>GitHub Actions</code> to implement a CI into a Github repository. But first, what is Github Actions?</p><p>GitHub Actions is a <code>CI/CD (Continuous Implementation and Continuous Deployment) tool</code> integrated directly into <code>GitHub</code>, allowing developers to <code>automate tasks and workflows</code> around their code. With this tool, you can build, test, and deploy your code automatcally is response to events in the repository, such as pushes, pull requests, etc.</p><h2 id="ci-implementation" tabindex="-1">CI Implementation <a class="header-anchor" href="#ci-implementation" aria-label="Permalink to &quot;CI Implementation&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>In this note, we will follow the example of implementing a CI that will run a linter over the code, to check any type error or such. This example applies for any kind of CI! You must adapt to your needs.</p></div><h3 id="creating-a-the-ci-file" tabindex="-1">Creating a the CI file <a class="header-anchor" href="#creating-a-the-ci-file" aria-label="Permalink to &quot;Creating a the CI file&quot;">​</a></h3><p>First of all, you will need to create the <code>.github</code> folder, with its <code>workflows</code> subfolder:</p><div style="display:flex;justify-content:center;"><img src="'+l+'" alt="Screenshot representing the folders .github and workflows"></div><p>After creating your two folders, you can create any <code>YAML file</code>, for example, let&#39;s create a <code>swiftlint.yml</code> file, so when my CI starts, it will lint the entire code and check for errors.</p><div style="display:flex;justify-content:center;"><img src="'+o+`" alt="Screenshot representing the folders .github and workflows" class="small-image"></div><p>So, what&#39;s happening here? When you will interact with your repo (e.g pushing the code), GitHub Actions will check if there is any <code>.github/workflows</code> folder. If so, it will automatically run the YAML file inside. This means you can create different YAML files to run different jobs such as unit test, lint, etc.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Double-check your YAML indentation! YAML syntax is sensitive to spaces, so each level of indentation must be consistent. Even a small indentation error can cause the CI workflow to fail unexpectedly. Make sure each nested element aligns correctly, especially under jobs, steps, and other sections.</p></div><h3 id="swiftlint-yml" tabindex="-1">swiftlint.yml <a class="header-anchor" href="#swiftlint-yml" aria-label="Permalink to &quot;swiftlint.yml&quot;">​</a></h3><p>Let&#39;s dive into this file, and see the different steps we need to do.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SwiftLint</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  pull_request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span></span></code></pre></div><h3 id="breakdown-of-the-cd-workflow" tabindex="-1">Breakdown of the CD Workflow <a class="header-anchor" href="#breakdown-of-the-cd-workflow" aria-label="Permalink to &quot;Breakdown of the CD Workflow&quot;">​</a></h3><h4 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h4><ul><li>The <code>name</code> parameter corresponds to the name of your CI.</li><li><strong>Triggers</strong><ul><li><code>on</code> Defines when the CI is triggered. <ul><li><code>push</code>: Each time you push code to the <code>main</code> branch, the CI is activated.</li><li><code>pull_request</code>: Each time you PR is opened or updated towards the <code>main</code> branch, the CI is triggered.</li></ul></li></ul></li></ul><h4 id="jobs" tabindex="-1">Jobs <a class="header-anchor" href="#jobs" aria-label="Permalink to &quot;Jobs&quot;">​</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  lint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">macos-latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Step 1: Check out the code</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Checkout code</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Step 2: Set up Node.js (if needed for a static site generator or build step)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Set up Node.js</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/setup-node@v3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        node-version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;20&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Step 3: Install swiftlint</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Install SwiftLint</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">brew install swiftlint</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Step 4: Run swiftlint on the project</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Run SwiftLint</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">swiftlint</span></span></code></pre></div><ul><li><strong>Jobs</strong><ul><li><code>jobs</code> Defines a set or tasks executed in the workflow. <ul><li>Here, the job is named <code>lint</code>, meaning it will perform code checks.</li><li><code>runs-on</code> is like an image on docker, it will use the image to emulate a specific environment.</li></ul></li></ul></li></ul><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>Careful! I am using the macOS environment since Swift is specific to macOS, it needs to run on a compatible system. You can use ubuntu-latest for any other kind of system!</p></div><ul><li><strong>Steps</strong><ul><li><code>steps</code> are the different milestones it&#39;s going to take in order to run the job. <ul><li><strong>Step 1</strong> - Checkout code: Checks out the code to the runner.</li><li><strong>Step 2</strong> - Set up Node.js: Ensures Node.js is available, useful if the project needs a build step.</li><li><strong>Step 3</strong> - Install SwiftLint: Installs the linter.</li><li><strong>Step 4</strong> - Run SwiftLint: Executes the command <code>swiftlint</code>.</li></ul></li></ul></li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Even though SwiftLint doesn&#39;t need Node.js, this step garantees that the environment uses Node.js in case of tools or dependencies that will need it.</p></div><h2 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion" aria-label="Permalink to &quot;Conclusion&quot;">​</a></h2><p>By implementing Continuous Integration with GitHub Actions, we’re making code validation more efficient and ensuring a healthier codebase. This setup helps catch errors early, improve code quality, and streamline the development process. From configuring triggers to defining jobs and steps, we’ve covered how to set up a basic CI pipeline that can be tailored to any specific needs.</p><p>To explore the full YAML configuration and see the code in action, you can visit the <a href="https://github.com/CarolaneLFBV/SwiftData-Linter-CI" target="_blank" rel="noreferrer">GitHub repository</a>. Feel free to clone, adapt, or extend it to fit your own workflows.</p>`,31)]))}const f=i(h,[["render",r]]);export{E as __pageData,f as default};
